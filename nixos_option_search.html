<!DOCTYPE html>
<!-- this document is auto-generated from pankat document editor -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head data-article-dst-filename="nixos_option_search.html">

<meta charset="utf-8" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>nixos option search</title>

<script src="js/jquery.min.js"></script>

<script src="js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />



<script src="js/reconnecting-websocket.min.js"></script>
<script src="js/pankat-websocket.js"></script>
<script src="js/diffDOM.js"></script>


<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<script src="js/bootstrap.min.js"></script>

<script src="js/anchor.min.js"></script>

<link rel="icon" href="media/favicon.ico" type="image/x-icon" />


<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/pandoc-kate.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>
<body>

<div id="toc"></div>

<!-- menu begins -->
<div class="container">
  <nav class="navbar navbar-default">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">lastlog.de/blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="timeline.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> timeline</a></li>
        <li><a href="about.html"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> about</a></li>
        <li><a href="/draft" id="draft" style="display: none"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> draft</a></li>
        <li><a href="/draft?article=posts/roadmap.mdwn" id="roadmap" style="display: none"><span class="glyphicon glyphicon glyphicon-road" aria-hidden="true"></span> roadmap</a></li>

      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a title="live updates of article updates on posts/nixos_option_search.mdwn" id="websocket" style="display: none"><span id="websocketStatus" class="glyphicon glyphicon-remove" aria-hidden="true"></span> websocket</a></li>
        <!-- <li><a href="#">Login</a></li> -->
      </ul>

      <!--<div id="right">
        <form class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>-->
    </div><!-- /.navbar-collapse -->
  </nav>

<div id="headerAndArticle">


  <div id="headerContainer">
    <header class="header"><span id="articleNavLeft"> <a href="source_distribution_is_broken.html"> 
      <span class="glyphiconLink glyphicon glyphicon-chevron-left" aria-hidden="true" title="previous article"> </span> prev. article
    </a> </span><span id="articleNavRight"><a href="tinkerforge_relais_raspberry_pi_2.html"> 
        next article <span class="glyphiconLink glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article"></span>
    </a> </span></header>
  </div>
  

  <div class="article">
    <h1 id="SiteTitle">nixos option search</h1>
    <div id="date"><p><span id="lastupdated">11 sep 2014</span></p></div><div id="tags"><p><a href="timeline.html?filter=tag::linux" class="tagbtn btn btn-primary">linux</a><a href="timeline.html?filter=tag::usability" class="tagbtn btn btn-primary">usability</a><a href="timeline.html?filter=tag::nixos" class="tagbtn btn btn-primary">nixos</a></p></div>
    <h2 data-number="1" id="motivation">motivation</h2>
<p>at the kiberpipa sprint 2014, nicolas pierron an me decided it would
be cool to have a ‘nixos option search’ and here it is [1]! [1] is still
a preview but will soon be found on the nixos.org homepage [2].</p>
<h2 data-number="2" id="how-it-works">how it works</h2>
<ol type="1">
<li><p><strong>nix can export to JSON</strong> but that used to be
broken as there was some serialization issue breaking it. as nicolas
wrote the ‘nixos options backend’ he was able to fix the serialization,
so now we can export all the option configuration which are
available.</p></li>
<li><p>next we were <strong>using javascript to display all these
elements</strong> in a single webpage</p></li>
<li><p>finally <strong>we filter these</strong> based on the words
given</p></li>
<li><p>the <strong>option.JSON file will be automatically
updated</strong> from time to time, so it will always reflect the most
recent <strong>nixos stable</strong> options</p></li>
</ol>
<p>it is quite fast and hopefully everyone will like it, <strong>here is
how it looks</strong>:</p>
<p><a href="media/nixos_option_search1.jpg"><img src=media/nixos_option_search1.jpg alt="" size=500x caption="nixos option search with 1915 entries"></a></p>
<p>the screenshot below shows we do have <strong>248 nixos
services</strong> in nixpkgs which is pretty awesome!</p>
<p><a href="media/nixos_option_search2.jpg"><img src=media/nixos_option_search2.jpg alt="" size=500x caption="statistics: we have 248 services in nixos!"></a></p>
<h2 data-number="3" id="summary">summary</h2>
<p>the <strong>nixos option search will be live in a few days</strong>,
niksnut has to review the stuff, fix the Makefile and merge it with the
nixos-manual ‘master branch’ [2].</p>
<p>also documentation related: if you want to contribute to the
documentation, please feel free to use the new ‘<strong>page
source</strong>’ or ‘<strong>edit</strong>’ link, which will be one all
nixos.org webpages (except the wiki) from now on! i think this feature
was an idea of garbas and it works like this:</p>
<ol type="1">
<li><p>you click the link</p></li>
<li><p>you fork the nixos-manual repository to your github.com
account</p></li>
<li><p>finally you make the changes and click ‘pull request’ (if you
need a preview of your changes, which will be 90% of your changes, you
rather want a clone to your harddrive and a ‘nix-shell –command make’
first and a review with your browser second)</p></li>
<li><p>after a review of your changes from niksnut, they might get into
the nixos-homepage</p></li>
</ol>
<p>here is a screenshot of the new links:</p>
<p><a href="media/nixos_option_search3.jpg"><img src=media/nixos_option_search3.jpg alt="" size=400x caption="nixos.org's new page source/edit links"></a></p>
<p>the <strong>kiberpipa sprint was really awesome</strong> - thanks to
domen and all the others! i’m already looking forward to the
<strong>next sprint, which will probably take place during
FOSDEM15</strong>.</p>
<h2 data-number="4" id="links">links</h2>
<ul>
<li>[1] <a href="https://nixcloud.io/nixos-homepage/nixos/options.html"
class="uri">https://nixcloud.io/nixos-homepage/nixos/options.html</a></li>
<li>[2] <a href="https://nixos.org/nixos/options.html"
class="uri">https://nixos.org/nixos/options.html</a></li>
</ul>

  </div>

</div>

<div id="ArticleSourceCode">

<a href="posts/nixos_option_search.mdwn" title="posts\nixos_option_search.mdwn">article source</a>
</div>

</div>

<div id="scrollUp">
<span id="scrollUpBtn" class="glyphiconLink glyphicon glyphicon-chevron-up" aria-hidden="true" title="scroll up"></span>
</div>

<script>
$("#scrollUpBtn").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
  return false;
});
</script>


<script>
window.onload = function(e){
  anchors.add('h1')
  anchors.add('h2')
  anchors.add('h3')
  anchors.add('h4')
  anchors.add('h5')
}
</script>




<script>
$(document).ready(function() {
  //Calls the tocify method on your HTML div.
  $("#toc").tocify();
});
$("#toc").hover(function() {
  $("#toc").css("z-index", "111")
}, function() {
  $("#toc").css("z-index", "1")
});
</script>



<script>

var shifted = false;

$(window).keyup(function(event) {
    shifted = event.shiftKey;
});

$(window).keydown(function(event) {
  if(event.keyCode == 16){
    shifted = event.shiftKey;
  }
  if (shifted == false) {
      if(event.keyCode == 37){
        $('.glyphicon-chevron-left')[0].click()
      }
      if(event.keyCode == 39){
        $('.glyphicon-chevron-right')[0].click()
      }
  }
});
</script>


<script>
// check if we got served from pankat-server
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
  if (xhr.status == 200) {
    console.log("request to /pankat-server returned status: " + xhr.status + ", so yes we got served from pankat-server");
    $('#draft').css("display", "block");
    $('#roadmap').css("display", "block");
  }
}
}
xhr.open('GET', "/pankat-server", false);
xhr.send(null);
</script>
</body>
</html>
