<!DOCTYPE html>
<!-- this document is auto-generated from pankat document editor -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head data-article-dst-filename="pulse_check.html">

<meta charset="utf-8" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>pulse check</title>

<script src="js/jquery.min.js"></script>

<script src="js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />



<script src="js/reconnecting-websocket.min.js"></script>
<script src="js/pankat-websocket.js"></script>
<script src="js/diffDOM.js"></script>


<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<script src="js/bootstrap.min.js"></script>

<script src="js/anchor.min.js"></script>

<link rel="icon" href="media/favicon.ico" type="image/x-icon" />


<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/pandoc-kate.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>
<body>

<div id="toc"></div>

<!-- menu begins -->
<div class="container">
  <nav class="navbar navbar-default">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">lastlog.de/blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="timeline.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> timeline</a></li>
        <li><a href="about.html"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> about</a></li>
        <li><a href="/draft" id="draft" style="display: none"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> draft</a></li>
        <li><a href="/draft?article=posts/roadmap.mdwn" id="roadmap" style="display: none"><span class="glyphicon glyphicon glyphicon-road" aria-hidden="true"></span> roadmap</a></li>

      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a title="live updates of article updates on posts/pulse_check.mdwn" id="websocket" style="display: none"><span id="websocketStatus" class="glyphicon glyphicon-remove" aria-hidden="true"></span> websocket</a></li>
        <!-- <li><a href="#">Login</a></li> -->
      </ul>

      <!--<div id="right">
        <form class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>-->
    </div><!-- /.navbar-collapse -->
  </nav>

<div id="headerAndArticle">


  <div id="headerContainer">
    <header class="header"><span id="articleNavLeft"> <a href="pankat_editor.html"> 
      <span class="glyphiconLink glyphicon glyphicon-chevron-left" aria-hidden="true" title="previous article"> </span> prev. article
    </a> </span><span id="articleNavRight"><a href="strategic_innovation_in_europe.html"> 
        next article <span class="glyphiconLink glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article"></span>
    </a> </span></header>
  </div>
  

  <div class="article">
    <h1 id="SiteTitle">pulse check</h1>
    <div id="date"><p><span id="lastupdated">10 apr 2023</span></p></div><div id="tags"><p><a href="timeline.html?filter=tag::javascript" class="tagbtn btn btn-primary">javascript</a><a href="timeline.html?filter=tag::BPM" class="tagbtn btn btn-primary">BPM</a><a href="timeline.html?filter=tag::pulse" class="tagbtn btn btn-primary">pulse</a></p></div>
    <style>
 .circle {
        width: 120px;
        height: 120px;
        line-height: 120px;
        border-radius: 50%;
        background-color: #67aacc;
        text-align: center;
        border: 1px solid black;
        // bold font
        font-weight: bold;
        font-size: 32px;
        color: #fff;
          -webkit-user-select: none; /* Safari */
          -ms-user-select: none; /* IE 10 and IE 11 */
          user-select: none; /* Standard syntax */
}

</style>
<h2 data-number="1" id="motivation">motivation</h2>
<p>below is a circle, <strong>click it for every pulse you feel</strong>
for about 11 to 20 samples. if you <strong>click too early or too
late</strong> it is <strong>not so important</strong>, missing an event
actually is.</p>
<p>only the last 20 samples are used for measurement, so if the overall
pulse changes the measurement will also adapt.</p>
<p>note: <strong>to reset it, just wait 2 seconds without clicking then
start over (will show reset text)</strong></p>
<h3 data-number="1.1" id="measurement">measurement</h3>
<p>value is in BPM (beats per minute):</p>
<div id="circle" class="circle" onclick="pulse()">

</div>
<div id="status" class="status">

</div>
<div id="samples" class="samples">

</div>
<h3 data-number="1.2" id="quality-assurance">quality assurance</h3>
<p>i used this in the F12 shell of firefox to generate some pulses:</p>
<pre><code>setInterval(function(){ document.getElementById(&quot;circle&quot;).click(); }, 1000); // 60 bpm</code></pre>
<p>and for manual clicking i was using this:</p>
<p><a href="https://www.youtube.com/watch?v=iwYhgHscEtg"
class="uri">https://www.youtube.com/watch?v=iwYhgHscEtg</a></p>
<h2 data-number="2" id="summary">summary</h2>
<p>the pulse is computed as the average of the last 20 samples, the
average is computed as the time difference between the first and the
last sample divided by the number of samples - 1.</p>
<p>some <strong>notable mentions</strong> are that parts of the code was
written from <strong>copilot (chatGPT)</strong> and all inline in the
<em>pulse_check.mdwn</em> document. <strong>i used goland with copilot
integration and both programs totally figured out that this is a wild
mix of markdown, inline html/css and inline javascript and my own pankat
plugins.</strong></p>
<p>you can view the code, just click the link ‘article source’
below.</p>
<script>
var last = new Date();
var pulses = [];

function pulse()
{
    var now = new Date();
    if (now - last > 2000) {
        // reset pulses
        pulses.length = 0;
        document.getElementById("status").innerHTML = "reset";
        document.getElementById("circle").innerHTML = "";
        document.getElementById("samples").innerHTML = "";
        last = now;
        pulses.push(now);
        return;
    }
    last = now;
    document.getElementById("status").innerHTML = "";
    if (pulses.length > 19) {
        // drop the oldest sample
        pulses.shift();
    }
    pulses.push(now);
    if (pulses.length < 2) {
        return;
    }
    bpm_ms = (now - pulses[0]) / (pulses.length - 1);
    var bpm = 60000 / bpm_ms;
    document.getElementById("circle").innerHTML = bpm.toFixed(1);
    document.getElementById("samples").innerHTML = pulses.length + " samples";
}

//setInterval(function(){ document.getElementById("pulse").click(); }, 125); // 480 bpm
//setInterval(function(){ document.getElementById("pulse").click(); }, 250); // 240 bpm
//setInterval(function(){ document.getElementById("pulse").click(); }, 500); // 120 bpm
//setInterval(function(){ document.getElementById("pulse").click(); }, 1000); // 60 bpm

</script>

  </div>

</div>

<div id="ArticleSourceCode">

<a href="posts/pulse_check.mdwn" title="posts\pulse_check.mdwn">article source</a>
</div>

</div>

<div id="scrollUp">
<span id="scrollUpBtn" class="glyphiconLink glyphicon glyphicon-chevron-up" aria-hidden="true" title="scroll up"></span>
</div>

<script>
$("#scrollUpBtn").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
  return false;
});
</script>


<script>
window.onload = function(e){
  anchors.add('h1')
  anchors.add('h2')
  anchors.add('h3')
  anchors.add('h4')
  anchors.add('h5')
}
</script>




<script>
$(document).ready(function() {
  //Calls the tocify method on your HTML div.
  $("#toc").tocify();
});
$("#toc").hover(function() {
  $("#toc").css("z-index", "111")
}, function() {
  $("#toc").css("z-index", "1")
});
</script>



<script>

var shifted = false;

$(window).keyup(function(event) {
    shifted = event.shiftKey;
});

$(window).keydown(function(event) {
  if(event.keyCode == 16){
    shifted = event.shiftKey;
  }
  if (shifted == false) {
      if(event.keyCode == 37){
        $('.glyphicon-chevron-left')[0].click()
      }
      if(event.keyCode == 39){
        $('.glyphicon-chevron-right')[0].click()
      }
  }
});
</script>


<script>
// check if we got served from pankat-server
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
  if (xhr.status == 200) {
    console.log("request to /pankat-server returned status: " + xhr.status + ", so yes we got served from pankat-server");
    $('#draft').css("display", "block");
    $('#roadmap').css("display", "block");
  }
}
}
xhr.open('GET', "/pankat-server", false);
xhr.send(null);
</script>
</body>
</html>
