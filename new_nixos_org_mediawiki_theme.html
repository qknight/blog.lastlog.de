<!DOCTYPE html>
<!-- this document is auto-generated from pankat document editor -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head data-article-dst-filename="new_nixos_org_mediawiki_theme.html">

<meta charset="utf-8" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>new nixos org mediawiki theme</title>

<script src="js/jquery.min.js"></script>

<script src="js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />



<script src="js/reconnecting-websocket.min.js"></script>
<script src="js/pankat-websocket.js"></script>
<script src="js/diffDOM.js"></script>


<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<script src="js/bootstrap.min.js"></script>

<script src="js/anchor.min.js"></script>

<link rel="icon" href="media/favicon.ico" type="image/x-icon" />


<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/pandoc-kate.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>
<body>

<div id="toc"></div>

<!-- menu begins -->
<div class="container">
  <nav class="navbar navbar-default">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">lastlog.de/blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="timeline.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> timeline</a></li>
        <li><a href="about.html"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> about</a></li>
        <li><a href="/draft" id="draft" style="display: none"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> draft</a></li>
        <li><a href="/draft?article=posts/roadmap.mdwn" id="roadmap" style="display: none"><span class="glyphicon glyphicon glyphicon-road" aria-hidden="true"></span> roadmap</a></li>

      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a title="live updates of article updates on posts/new_nixos_org_mediawiki_theme.mdwn" id="websocket" style="display: none"><span id="websocketStatus" class="glyphicon glyphicon-remove" aria-hidden="true"></span> websocket</a></li>
        <!-- <li><a href="#">Login</a></li> -->
      </ul>

      <!--<div id="right">
        <form class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>-->
    </div><!-- /.navbar-collapse -->
  </nav>

<div id="headerAndArticle">


  <div id="headerContainer">
    <header class="header"><span id="articleNavLeft"> <a href="ubuntu_cachefs_experiments.html"> 
      <span class="glyphiconLink glyphicon glyphicon-chevron-left" aria-hidden="true" title="previous article"> </span> prev. article
    </a> </span><span id="articleNavRight"><a href="filing_a_ticket_on_otrs_3_0_6_on_windows_server_2008_is_slow_like_hell.html"> 
        next article <span class="glyphiconLink glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article"></span>
    </a> </span></header>
  </div>
  

  <div class="article">
    <h1 id="SiteTitle">new nixos org mediawiki theme</h1>
    <div id="date"><p><span id="lastupdated">20 jun 2011</span></p></div><div id="tags"><p><a href="timeline.html?filter=tag::taspring" class="tagbtn btn btn-primary">taspring</a><a href="timeline.html?filter=tag::usability" class="tagbtn btn btn-primary">usability</a><a href="timeline.html?filter=tag::visualization" class="tagbtn btn btn-primary">visualization</a></p></div>
    <h2 data-number="1" id="the-wiki.nixos.org-mediawiki-theme">the
wiki.nixos.org mediawiki theme</h2>
<p>for some time i am hosting muse-sequencer.org with a mediawiki but i
never was able to design a nice custom layout like it is done on spring
RTS [1] for example. however, i often use the ‘clean’ theme which looks
much better than the standard mediawiki theme.</p>
<p>anyway, there are times when you need a ‘custom theme’, especially
when you have to integrate a custom menu bar (as shown in the top part
of the nixos-wiki-theme screenshot below). the advantage is that the
wiki page feels ‘integrated’ into the page and especially as the top
level menubar helps to navigate the site it can be used to get out of
the wiki again.</p>
<p><strong>therefore, not integrating the main navigation menu into the
wiki stylesheet causes a huge hit on usability as users have to alter
the URL filed in order to get back to the other pages.</strong>
<strong>and the wiki not looking like the rest of the pages also
degrades the look and feel.</strong></p>
<p><a href="media/nixos_mediawiki_theme.png"><img src=media/nixos_mediawiki_theme.png size=600x></a></p>
<p>for quite some time i did not want to learn that much CSS and
php/html but lately the integration of wiki.nixos.org into the nixos.org
domain made me think otherwise and so i started to hack a new stylesheet
[2] based on the ‘clean’ skin [3] i already debugged for my page
‘lastlog.de’.</p>
<p><strong>i needed about 9hours</strong> to make the design final and
<strong>i would like to thank zmlka@irc.freenode.net#nixos for his help
and fine tuning</strong>! <strong>i would also like to thank
viric</strong>@irc.freenode.net#nixos**** for his general attributions
towards a nice mediawiki.nix modification which makes it easy to handle
several third party mediawiki stylesheets. i might upload these
modifications upstream (nixpkgs) soon - if i find the time.</p>
<p>i hope nixos.org folks will use the new style soon!</p>
<h2 data-number="2" id="external-and-internal-links">external and
internal links</h2>
<p>one nice thing i discovered while creating the nixos mediawiki theme
was that it is very easy to add external links. i always thought this to
be very complicated.</p>
<p>the nixos-mediawiki-theme does have two menues: a top level menu
(header) and a bottom menu (footer). i used
<strong>require_once(..),</strong> which is a <strong>php
command</strong>, to include ‘header.php’ and ‘footer.php’.</p>
<p>this way the style can be extended without having to touch the the
style. this is especially nice as nixos wants a stateless packages and
one can set the ‘links’ from the /etc/nixos/configuration.nix
context.</p>
<p>another nice thing is that it is very easy to add ‘internal’ links,
that means: the menu generated from ‘header.php’ can be used to add
links which will also end in the mediawiki:</p>
<p>this will create an external link:</p>
<pre><code>&lt;li&gt;&lt;a href=&quot;http://nixos.org/nixos/&quot;&gt;NixOS&lt;/a&gt;&lt;/li&gt;</code></pre>
<p>this will create an internal link</p>
<pre><code>&lt;li&gt;&lt;a href=&quot;demo&quot;&gt;Demo&lt;/a&gt;&lt;/li&gt;</code></pre>
<h2 data-number="3" id="conclusion">conclusion</h2>
<p>although it was very time consuming for me to write this stylesheet
(except for my ‘ajax patterns’ [4] project i’ve never done that before)
i learned quite much about stylesheets, thus i encourage you to do the
same for your page. soon i will write a little guide how to do that in
more detail.</p>
<p><strong>it is also worth mentioning that CSS can be used to make the
content 100% independent of the position in the page but contrary to all
my expectations this might not be a default for most pages</strong>.</p>
<p>i would also like to <strong>recommend firefox+firebug</strong> as
this helps to analyze css/html errors and also helps to make
experimental modifications on the fly!</p>
<h2 data-number="4" id="links">links</h2>
<ul>
<li>[1] <a href="https://springrts.com"
class="uri">https://springrts.com</a></li>
<li>[2] <a href="https://github.com/qknight/nixos"
class="uri">https://github.com/qknight/nixos</a></li>
<li>[3] <a href="https://github.com/qknight/clean"
class="uri">https://github.com/qknight/clean</a></li>
<li>[4] <a href="http://lastlog.de/wiki/index.php/Ajax_patterns"
class="uri">http://lastlog.de/wiki/index.php/Ajax_patterns</a></li>
</ul>

  </div>

</div>

<div id="ArticleSourceCode">

<a href="posts/new_nixos_org_mediawiki_theme.mdwn" title="posts\new_nixos_org_mediawiki_theme.mdwn">article source</a>
</div>

</div>

<div id="scrollUp">
<span id="scrollUpBtn" class="glyphiconLink glyphicon glyphicon-chevron-up" aria-hidden="true" title="scroll up"></span>
</div>

<script>
$("#scrollUpBtn").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
  return false;
});
</script>


<script>
window.onload = function(e){
  anchors.add('h1')
  anchors.add('h2')
  anchors.add('h3')
  anchors.add('h4')
  anchors.add('h5')
}
</script>




<script>
$(document).ready(function() {
  //Calls the tocify method on your HTML div.
  $("#toc").tocify();
});
$("#toc").hover(function() {
  $("#toc").css("z-index", "111")
}, function() {
  $("#toc").css("z-index", "1")
});
</script>



<script>

var shifted = false;

$(window).keyup(function(event) {
    shifted = event.shiftKey;
});

$(window).keydown(function(event) {
  if(event.keyCode == 16){
    shifted = event.shiftKey;
  }
  if (shifted == false) {
      if(event.keyCode == 37){
        $('.glyphicon-chevron-left')[0].click()
      }
      if(event.keyCode == 39){
        $('.glyphicon-chevron-right')[0].click()
      }
  }
});
</script>


<script>
// check if we got served from pankat-server
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
  if (xhr.status == 200) {
    console.log("request to /pankat-server returned status: " + xhr.status + ", so yes we got served from pankat-server");
    $('#draft').css("display", "block");
    $('#roadmap').css("display", "block");
  }
}
}
xhr.open('GET', "/pankat-server", false);
xhr.send(null);
</script>
</body>
</html>
