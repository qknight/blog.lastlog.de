<!DOCTYPE html>
<!-- this document is auto-generated from pankat document editor -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head data-article-dst-filename="a_new_workstation.html">

<meta charset="utf-8" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>a new workstation</title>

<script src="js/jquery.min.js"></script>

<script src="js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />



<script src="js/reconnecting-websocket.min.js"></script>
<script src="js/pankat-websocket.js"></script>
<script src="js/diffDOM.js"></script>


<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<script src="js/bootstrap.min.js"></script>

<script src="js/anchor.min.js"></script>

<link rel="icon" href="media/favicon.ico" type="image/x-icon" />


<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/pandoc-kate.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>
<body>

<div id="toc"></div>

<!-- menu begins -->
<div class="container">
  <nav class="navbar navbar-default">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">lastlog.de/blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="timeline.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> timeline</a></li>
        <li><a href="about.html"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> about</a></li>
        <li><a href="/draft" id="draft" style="display: none"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> draft</a></li>
        <li><a href="/draft?article=posts/roadmap.mdwn" id="roadmap" style="display: none"><span class="glyphicon glyphicon glyphicon-road" aria-hidden="true"></span> roadmap</a></li>

      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a title="live updates of article updates on posts/a_new_workstation/a_new_workstation.mdwn" id="websocket" style="display: none"><span id="websocketStatus" class="glyphicon glyphicon-remove" aria-hidden="true"></span> websocket</a></li>
        <!-- <li><a href="#">Login</a></li> -->
      </ul>

      <!--<div id="right">
        <form class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>-->
    </div><!-- /.navbar-collapse -->
  </nav>

<div id="headerAndArticle">


  <div id="headerContainer">
    <header class="header"><span id="articleNavLeft"> <a href="cmake_and_doxygen_github_com.html"> 
      <span class="glyphiconLink glyphicon glyphicon-chevron-left" aria-hidden="true" title="previous article"> </span> prev. article
    </a> </span><span id="articleNavRight"><a href="cmake_kdevelop_4.html"> 
        next article <span class="glyphiconLink glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article"></span>
    </a> </span></header>
  </div>
  

  <div class="article">
    <h1 id="SiteTitle">a new workstation</h1>
    <div id="date"><p><span id="lastupdated">7 dec 2009</span></p></div><div id="tags"><p><a href="timeline.html?filter=tag::gentoo" class="tagbtn btn btn-primary">gentoo</a><a href="timeline.html?filter=tag::linux" class="tagbtn btn btn-primary">linux</a><a href="timeline.html?filter=tag::technology" class="tagbtn btn btn-primary">technology</a><a href="timeline.html?filter=tag::usability" class="tagbtn btn btn-primary">usability</a></p></div>
    <p><a href="media/hp-com-elitebook-8530w.jpg"><img src=media/hp-com-elitebook-8530w.jpg alt="source hp.com" style="float: right" size=300x></a></p>
<h2 data-number="1" id="motivation">motivation</h2>
<p>finally i bought a new workstation, a ‘<strong>hp elitebook
8530w</strong>’. this is unusual since i prefer ‘ibm’ computers in
genreal - but i could not find any ibm computer which was as powerful as
this hp laptop featuring a nvidia card. my first impression of the hp
was that it’s well designed and the fan wasn’t bad at all. altough the
fan is not perfect but i can live with it. another far more important
point is that it DOES NOT HAVE ANY <strong>ATI</strong> (AMD) COMPONENT
IN IT which means: NO more suffering. instead it uses a nvidia graphics
card:</p>
<pre><code># lspci
01:00.0 VGA compatible controller: nVidia Corporation Device 065c (rev a1)


# cat /var/log/Xorg.0.log | grep Quadro
(II) NVIDIA(0): NVIDIA GPU Quadro FX 770M (G96GL) at PCI:1:0:0 (GPU-0)</code></pre>
<p>I did not install gentoo the usual way but instead i cloned the image
from one of my desktop computers (which all happen to be intel c2c duos)
with 64bit usage. So the installation was done in about 30minutes (with
some help of [1]). i could not install gentoo right away since i
considered ‘bouncing the purchase’. the hard drive can be removed easily
and the way it is mounted to the laptop looks ‘rock solid’ (it is fixed
by 3 screws). so next i attached my desktop hard drive with a usb
adapter but grub could not load the kernel and it came up with the
mystic error code “error 17”. soon i found out that the kernel needs to
be in the first 1gb of disk space (or maybe 4gb? or 10gb?) i really
don’t care. it was at about 120gib away from the first sector. so i
removed the first partition (which wasn’t in use) and installed a 100mb
partition with xfs and i copied the kernel there. now everything worked
and i could test the computer without having any problems with that
‘windows vista’ i didn’t want to damage (else i would not be able to
return the device). finally i removed windows vista after i found out
that everything worked nice - which meant i would not return the
device!</p>
<p>The only things which didn’t work then were:</p>
<ul>
<li>lan 00:19.0 Ethernet controller: Intel Corporation 82567LM Gigabit
Network Connection (rev 03)</li>
<li>wlan 03:00.0 Network controller: Intel Corporation Device 4236</li>
<li>webcam (don’t need that)</li>
<li>second mouse (touchpad - i don’t need that either)</li>
</ul>
<p>suspend2ram works with the proprietary nvidia driver
‘<strong>x11-drivers/nvidia-drivers-185.18.36</strong>’. why should i
bother with this amd open source crap if a nvidia driven pc works out of
the box? using spring (springrts.com, game) i have about 280fps peak (in
windowed mode) while compositing is running. kde runs at 60fps. one
would not expect that - but it’s real!</p>
<p>the power drain using** suspend2ram** is about <strong>0.6W</strong>!
the <strong>display 1920 x 1200</strong> Pixels
<strong>anti-glare</strong> and it is very good compared to my ‘thinkpad
t43’ and it is excellent compared to my wifes mac book pro’s glare
display. overall i’m so happy i didn’t buy a ‘mac book pro’ since i’d be
running linux on it and i would expect more problems with a mac book pro
running linux than this ‘hp elite book’ - i could be wrong though.</p>
<p>there was one problem. i usually protect my private data with some
encryption -&gt; luks and my static 32bit initrd didn’t work anymore
since cryptsetup segfaulted on boot. so i had to create a new initrd
image which didn’t work at all. i really don’t know why. maybe init
couldn’t be loaded because busybox (although linked statically) couldn’t
find init. so i thought about giving up and do the installation without
luks support - and just in that moment eliasp (a friend of mine)
mentioned to me that he usually uses genkernel for doing that.</p>
<p>so i tried that (not expecting <strong>genkernel</strong> to be able
to help me). i simply couldn’t imagine that someone wrote support for a
lvm inside a luks-image which means:</p>
<ul>
<li>/dev/sda3 is a luks volume which is first opened with cryptsetup
luksOpen and</li>
<li>afterwards the decrypted partition can be interpreted as lvm vg in
‘/dev/vg/’.</li>
</ul>
<p>but i was wrong with my assumption - the initrd image produced by
genkernel worked out of the box, all i needed to do was issuing:</p>
<pre><code>genkernel --lvm2 --luks ramdisk</code></pre>
<p>I have a more detailed installation guide at [2].</p>
<p>To sum up: this device is a dream and if you should consider buying a
laptop consider this one!</p>
<p>#links</p>
<ul>
<li>[1] <a href="http://en.gentoo-wiki.com/wiki/HP_Elitebook_8530w"
class="uri">http://en.gentoo-wiki.com/wiki/HP_Elitebook_8530w</a></li>
<li>[2] <a
href="http://lastlog.de/wiki/index.php/Festplatte_verschluesseln"
class="uri">http://lastlog.de/wiki/index.php/Festplatte_verschluesseln</a></li>
</ul>

  </div>

</div>

<div id="ArticleSourceCode">

<a href="posts/a_new_workstation/a_new_workstation.mdwn" title="posts\a_new_workstation\a_new_workstation.mdwn">article source</a>
</div>

</div>

<div id="scrollUp">
<span id="scrollUpBtn" class="glyphiconLink glyphicon glyphicon-chevron-up" aria-hidden="true" title="scroll up"></span>
</div>

<script>
$("#scrollUpBtn").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
  return false;
});
</script>


<script>
window.onload = function(e){
  anchors.add('h1')
  anchors.add('h2')
  anchors.add('h3')
  anchors.add('h4')
  anchors.add('h5')
}
</script>




<script>
$(document).ready(function() {
  //Calls the tocify method on your HTML div.
  $("#toc").tocify();
});
$("#toc").hover(function() {
  $("#toc").css("z-index", "111")
}, function() {
  $("#toc").css("z-index", "1")
});
</script>



<script>

var shifted = false;

$(window).keyup(function(event) {
    shifted = event.shiftKey;
});

$(window).keydown(function(event) {
  if(event.keyCode == 16){
    shifted = event.shiftKey;
  }
  if (shifted == false) {
      if(event.keyCode == 37){
        $('.glyphicon-chevron-left')[0].click()
      }
      if(event.keyCode == 39){
        $('.glyphicon-chevron-right')[0].click()
      }
  }
});
</script>


<script>
// check if we got served from pankat-server
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
  if (xhr.status == 200) {
    console.log("request to /pankat-server returned status: " + xhr.status + ", so yes we got served from pankat-server");
    $('#draft').css("display", "block");
    $('#roadmap').css("display", "block");
  }
}
}
xhr.open('GET', "/pankat-server", false);
xhr.send(null);
</script>
</body>
</html>
