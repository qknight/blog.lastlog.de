<!DOCTYPE html>
<!-- this document is auto-generated from pankat document editor -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head data-article-dst-filename="n900_findings.html">

<meta charset="utf-8" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>n900 findings</title>

<script src="js/jquery.min.js"></script>

<script src="js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />



<script src="js/reconnecting-websocket.min.js"></script>
<script src="js/pankat-websocket.js"></script>
<script src="js/diffDOM.js"></script>


<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<script src="js/bootstrap.min.js"></script>

<script src="js/anchor.min.js"></script>

<link rel="icon" href="media/favicon.ico" type="image/x-icon" />


<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/pandoc-kate.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>
<body>

<div id="toc"></div>

<!-- menu begins -->
<div class="container">
  <nav class="navbar navbar-default">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">lastlog.de/blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="timeline.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> timeline</a></li>
        <li><a href="about.html"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> about</a></li>
        <li><a href="/draft" id="draft" style="display: none"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> draft</a></li>
        <li><a href="/draft?article=posts/roadmap.mdwn" id="roadmap" style="display: none"><span class="glyphicon glyphicon glyphicon-road" aria-hidden="true"></span> roadmap</a></li>

      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a title="live updates of article updates on posts/n900_findings.mdwn" id="websocket" style="display: none"><span id="websocketStatus" class="glyphicon glyphicon-remove" aria-hidden="true"></span> websocket</a></li>
        <!-- <li><a href="#">Login</a></li> -->
      </ul>

      <!--<div id="right">
        <form class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>-->
    </div><!-- /.navbar-collapse -->
  </nav>

<div id="headerAndArticle">


  <div id="headerContainer">
    <header class="header"><span id="articleNavLeft"> <a href="kdevelop_on_nixos.html"> 
      <span class="glyphiconLink glyphicon glyphicon-chevron-left" aria-hidden="true" title="previous article"> </span> prev. article
    </a> </span><span id="articleNavRight"><a href="podcasts_and_documentaries.html"> 
        next article <span class="glyphiconLink glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article"></span>
    </a> </span></header>
  </div>
  

  <div class="article">
    <h1 id="SiteTitle">n900 findings</h1>
    <div id="date"><p><span id="lastupdated">11 dec 2011</span></p></div><div id="tags"><p><a href="timeline.html?filter=tag::linux" class="tagbtn btn btn-primary">linux</a><a href="timeline.html?filter=tag::n900" class="tagbtn btn btn-primary">n900</a><a href="timeline.html?filter=tag::packagemanager" class="tagbtn btn btn-primary">packagemanager</a><a href="timeline.html?filter=tag::qt" class="tagbtn btn btn-primary">qt</a><a href="timeline.html?filter=tag::usability" class="tagbtn btn btn-primary">usability</a></p></div>
    <p><a href="media/315px-nokia_n900-1.jpg"><img src=media/315px-nokia_n900-1.jpg alt="" style="float: right" caption="repairing the n900 camera"></a></p>
<p>i own a nokia n900 and i’m very happy with it. some time ago it
<strong>fell of my pocket</strong> and then the <strong>5mega pixel
camera didn’t work anymore as well as the flashlight</strong>. i’m a big
fan of QR codes and i was often using the flashlight so this was a
problem.</p>
<p>the funny thing is that reflashing the device [2] made it work again.
now i wonder why the camera is working again. the camera module is
plugged to the n900 as can be seen in the videos on youtube, just search
for it [3]. maybe while hitting the ground the camera was disconnected
from the device while the device was running and that screwed the
firmware? i don’t have a clue but i think it is worth mentioning.</p>
<h2 data-number="1" id="symptoms">0. symptoms</h2>
<p>once the camera was not working i had problems:</p>
<ul>
<li>starting the n900 (coldstart) if still connected to any charger, it
simply would not boot</li>
<li>starting the camera application; it would report something like:
camera device not ready or something similar and instantly close the
widget</li>
<li>flashlight did not work anymore</li>
</ul>
<h2 data-number="2" id="the-backup">1. the backup</h2>
<h3 data-number="2.1"
id="create-a-backup-using-the-backup-tool-coming-with-the-n900">1.1
create a backup using the backup tool coming with the n900</h3>
<p>this is a really great tool, don’t forget to check all the 4 points
in the list ‘what to backup’.</p>
<p>also consider to read [4] (i didn’t do that but on this page there
are some screenshots of the backup util i’m referring to).</p>
<h3 data-number="2.2" id="dpkg-and-a-list-of-all-files-in-opt">1.2 dpkg
and a list of all files in ‘opt’</h3>
<p>maybe that is of use later so i note down all files and installed
packages:</p>
<pre><code>ls -la opt &gt; opt_fils
dpkg -l &gt; dpkg_l</code></pre>
<h3 data-number="2.3" id="now-make-a-backup-of-all-files">1.3 now make a
backup of all files</h3>
<p>as i also develop for the n900 i had already a working ssh root
login:</p>
<pre><code>rsync -av --progress --delete n900:/home/user .</code></pre>
<h2 data-number="3" id="emmcvanilla">2. eMMC/VANILLA</h2>
<p>RX-51_2009SE_10.2010.13-2.VANILLA_PR_EMMC_MR0_ARM.bin</p>
<pre><code>./flasher-3.5 -F ../RX-51_2009SE_10.2010.13-2.VANILLA_PR_EMMC_MR0_ARM.bin -f</code></pre>
<h2 data-number="4" id="fiascorootfs">3. FIASCO/Rootfs</h2>
<p>RX-51_2009SE_20.2010.36-2_PR_COMBINED_MR0_ARM.bin</p>
<pre><code>./flasher-3.5 -F ../RX-51_2009SE_20.2010.36-2_PR_COMBINED_MR0_ARM.bin -f -R</code></pre>
<h2 data-number="5" id="restoring-the-backup">4. restoring the
backup</h2>
<p>once the device was booted after the udpate the camera was working.
what a relief! but i didn’t know where to copy the backup as the folder
using the ‘mass storage usb’ feature was nearly empty. so i created a
new one and connected it again using usb later. after the backup
directory was migrated to the device i disconnected the usb cable and
restored my 50mb backup. took quite some time and after the final reboot
the device also installs the software which was removed in step 2 and 3.
i decided to skip this and to install only needed software manually.</p>
<p><strong>note: after the backup is restored and the n900 restarted the
wlan starts working again.</strong></p>
<h2 data-number="6" id="restoring-the-applications">5. restoring the
applications</h2>
<p>a list of software i installed:</p>
<ul>
<li>gainroot</li>
<li>openssh client and server</li>
</ul>
<p>one these applications are installed plug in the usb adapter and set
the device into ‘pc suite mode’ and use gainroot to type:</p>
<pre><code>ifconfig usb0 10.0.0.1/24 up</code></pre>
<p>on the host computer type:</p>
<pre><code>ip a add 10.0.0.2/24 dev usb0
ip l set usb0 up
ssh root@10.0.0.1</code></pre>
<p>to find applications use the app catalog on the n900 but to find the
associated package i did:</p>
<pre><code>apt-cache search adblock | grep plus
(and similar commands)</code></pre>
<p>all other applications can be installed using apt-get via usb or
wlan:</p>
<ul>
<li>rsync</li>
<li>adblock plus</li>
<li>adflashblock-css</li>
<li>agenda timer</li>
<li>battery-eye</li>
<li>countdown timer</li>
<li>datetoday home desktop widget</li>
<li>evopedia</li>
<li>flashlight</li>
<li>convert</li>
<li>gpsjinni</li>
<li>headphone daemon</li>
<li>healthcheck</li>
<li>htop</li>
<li>iptraf</li>
<li>irssi</li>
<li>mad-developer</li>
<li>mappero</li>
<li>mbarcode</li>
<li>mbarcode qr code plugin</li>
<li>mbarcode webrequest plugin</li>
<li>mbarcode wifi plugin</li>
<li>mclock</li>
<li>mstardict</li>
<li>nmap</li>
<li>ogg support</li>
<li>orrery</li>
<li>password safe</li>
<li>personal ip address</li>
<li>quicknote</li>
<li>recaller</li>
<li>tuner</li>
<li>view contact info with bigger font</li>
<li>wifieye</li>
<li>wifi switcher</li>
<li>foreca weather applet</li>
</ul>
<p>using the ssh shell one can type this on the device as root:</p>
<pre><code>apt-get install adblock-plus-1.0
apt-get install adflashblock-css agenda rsync
apt-get install battery-eye wifi-switcher countdowntimer datetoday-home-widget evopedia flashlight-applet
apt-get install gpsjinni headphoned healthcheck htop network-monitor irssi mad-developer
apt-get install maemo-mapper mbarcode-plugin-qrcode mbarcode-plugin-wifi mbarcode-plugin-webrequest mbarcode mbarcode-core
apt-get install mclock mstardict nmap ogg-support decoders-support orrery pwsafe
apt-get install personal-ip-address quicknote recaller tuner contact-zoom wifieye foreca-weather-applet</code></pre>
<p>other software i newly installed</p>
<ul>
<li>monav</li>
<li>snuggle</li>
<li>wallet</li>
<li>mdbus2</li>
</ul>
<p>again - using the ssh shell one can type this on the device as
root:</p>
<pre><code>apt-get install monav-routing-daemon snuggle qtwallet mdbus2</code></pre>
<h2 data-number="7"
id="remove-the-photo-click-sound-and-the-intro-animation">6. remove the
photo click sound and the intro animation</h2>
<p>ssh into the n900 and type:</p>
<pre><code>rm ./opt/usr/share/hildon-welcome/media/Hands-v32-h264.avi ./home/opt/usr/share/hildon-welcome/media/Hands-v32-h264.avi
rm /usr/share/sounds/camera_snd_title_*wav
reboot</code></pre>
<h2 data-number="8" id="random-notes">random notes</h2>
<ul>
<li><p>after the reinstallation everything is much faster now. the
settings dialog loads twice as fast and the desktop feels much
smoother.</p></li>
<li><p>application load times are similar to before</p></li>
<li><p>for some programs i had to copy files from my backup to the
device manually:</p>
<ul>
<li>my documents</li>
<li>evopedia dumps</li>
<li>monav map data</li>
<li>my camera pictures</li>
<li>osm2go</li>
<li>mstardict</li>
<li>music</li>
<li>quicknote</li>
</ul></li>
<li><p>monav is probably one of the coolest programs for the n900,**
thanks very much to Christian Vetter and Christoph Eckert**</p></li>
</ul>
<h2 data-number="9" id="links">links</h2>
<ul>
<li>[1] <a href="http://maemo.cloud-7.de/Gallery-N900-exploded/"
class="uri">http://maemo.cloud-7.de/Gallery-N900-exploded/</a></li>
<li>[2] <a
href="https://wiki.maemo.org/Updating_the_tablet_firmware#Updating_.26_Flashing_your_device"
class="uri">https://wiki.maemo.org/Updating_the_tablet_firmware#Updating_.26_Flashing_your_device</a></li>
<li>[3] <a
href="http://www.google.de/search?q=Nokia+N900+Disassemble&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:de:official&amp;client=firefox-a"
class="uri">http://www.google.de/search?q=Nokia+N900+Disassemble&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:de:official&amp;client=firefox-a</a></li>
<li>[4] <a
href="http://prokonsul.blogspot.com/2011/01/make-backup-and-restore-from-it-on-n900.html"
class="uri">http://prokonsul.blogspot.com/2011/01/make-backup-and-restore-from-it-on-n900.html</a></li>
<li>[5] <a
href="http://natisbad.org/N900/n900-commented-hardware-specs.html"
class="uri">http://natisbad.org/N900/n900-commented-hardware-specs.html</a></li>
</ul>
<h2 data-number="10" id="update-14.02.2013">update 14.02.2013</h2>
<p>maybe that camera issue was no hardware issue but since the device
was rebooted once it hit the floor it could have to do with
<strong>fcam</strong> which installs a driver and once the device is
rebooted the camera didn’t work. uninstalling fcam made it work
again.</p>

  </div>

</div>

<div id="ArticleSourceCode">

<a href="posts/n900_findings.mdwn" title="posts\n900_findings.mdwn">article source</a>
</div>

</div>

<div id="scrollUp">
<span id="scrollUpBtn" class="glyphiconLink glyphicon glyphicon-chevron-up" aria-hidden="true" title="scroll up"></span>
</div>

<script>
$("#scrollUpBtn").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
  return false;
});
</script>


<script>
window.onload = function(e){
  anchors.add('h1')
  anchors.add('h2')
  anchors.add('h3')
  anchors.add('h4')
  anchors.add('h5')
}
</script>




<script>
$(document).ready(function() {
  //Calls the tocify method on your HTML div.
  $("#toc").tocify();
});
$("#toc").hover(function() {
  $("#toc").css("z-index", "111")
}, function() {
  $("#toc").css("z-index", "1")
});
</script>



<script>

var shifted = false;

$(window).keyup(function(event) {
    shifted = event.shiftKey;
});

$(window).keydown(function(event) {
  if(event.keyCode == 16){
    shifted = event.shiftKey;
  }
  if (shifted == false) {
      if(event.keyCode == 37){
        $('.glyphicon-chevron-left')[0].click()
      }
      if(event.keyCode == 39){
        $('.glyphicon-chevron-right')[0].click()
      }
  }
});
</script>


<script>
// check if we got served from pankat-server
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
  if (xhr.status == 200) {
    console.log("request to /pankat-server returned status: " + xhr.status + ", so yes we got served from pankat-server");
    $('#draft').css("display", "block");
    $('#roadmap').css("display", "block");
  }
}
}
xhr.open('GET', "/pankat-server", false);
xhr.send(null);
</script>
</body>
</html>
