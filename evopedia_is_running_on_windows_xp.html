<!DOCTYPE html>
<!-- this document is auto-generated from pankat document editor -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head data-article-dst-filename="evopedia_is_running_on_windows_xp.html">

<meta charset="utf-8" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>evopedia is running on windows xp</title>

<script src="js/jquery.min.js"></script>

<script src="js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />



<script src="js/reconnecting-websocket.min.js"></script>
<script src="js/pankat-websocket.js"></script>
<script src="js/diffDOM.js"></script>


<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<script src="js/bootstrap.min.js"></script>

<script src="js/anchor.min.js"></script>

<link rel="icon" href="media/favicon.ico" type="image/x-icon" />


<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/pandoc-kate.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>
<body>

<div id="toc"></div>

<!-- menu begins -->
<div class="container">
  <nav class="navbar navbar-default">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">lastlog.de/blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="timeline.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> timeline</a></li>
        <li><a href="about.html"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> about</a></li>
        <li><a href="/draft" id="draft" style="display: none"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> draft</a></li>
        <li><a href="/draft?article=posts/roadmap.mdwn" id="roadmap" style="display: none"><span class="glyphicon glyphicon glyphicon-road" aria-hidden="true"></span> roadmap</a></li>

      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a title="live updates of article updates on posts/evopedia/evopedia_is_running_on_windows_xp.mdwn" id="websocket" style="display: none"><span id="websocketStatus" class="glyphicon glyphicon-remove" aria-hidden="true"></span> websocket</a></li>
        <!-- <li><a href="#">Login</a></li> -->
      </ul>

      <!--<div id="right">
        <form class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>-->
    </div><!-- /.navbar-collapse -->
  </nav>

<div id="headerAndArticle">


  <div id="headerContainer">
    <header class="header"><span id="articleNavLeft"> <a href="adding_torrent_support_to_your_qt_project.html"> 
      <span class="glyphiconLink glyphicon glyphicon-chevron-left" aria-hidden="true" title="previous article"> </span> prev. article
    </a> </span><span id="articleNavRight"><a href="evopedia_is_running_on_gentoo_linux.html"> 
        next article <span class="glyphiconLink glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article"></span>
    </a> </span></header>
  </div>
  
      <div id="seriesContainer">
      <a href="timeline.html?filter=series::evopedia" title="article series evopedia" class="seriesbtn btn btn-primary">evopedia</a>
        <header class="seriesHeader">
          <div id="seriesLeft">  </div>
          <div id="seriesRight">   <a href="evopedia_is_running_on_gentoo_linux.html">
              <span class="glyphiconLinkSeries glyphicon glyphicon-chevron-right" aria-hidden="true" title="next article in series"></span>
            </a></div>
        </header>
      </div>

  <div class="article">
    <h1 id="SiteTitle">evopedia is running on windows xp</h1>
    <div id="date"><p><span id="lastupdated">20 oct 2010</span></p></div><div id="tags"><p><a href="timeline.html?filter=tag::packagemanager" class="tagbtn btn btn-primary">packagemanager</a><a href="timeline.html?filter=tag::qt" class="tagbtn btn btn-primary">qt</a><a href="timeline.html?filter=tag::windows" class="tagbtn btn btn-primary">windows</a></p></div>
    <h2 data-number="1" id="motivation">motivation</h2>
<p><strong>evopedia</strong>, the offline wikipedia reader, is now
<strong>running on windows xp</strong> and probably also on all later
windows versions.</p>
<p><a href="media/evopedia-on-windows.png"><img src=media/evopedia-on-windows.png width=390x></a></p>
<h2 data-number="2" id="how-i-did-it">how i did it</h2>
<p>i’ve created a build which uses dll files from qt. i actually wanted
a static qt build but that did not work. so here is how i built the
evopedia</p>
<h2 data-number="3" id="downloading-the-needed-software">downloading the
needed software</h2>
<p>visit [1] and download the Qt SDK for Windows (~322MB). i also
downloaded git for windows at [2].</p>
<p>using git i then downloaded evopedia:</p>
<pre><code>git clone https://qknight@github.com/qknight/torrent.git</code></pre>
<p>finally i downloaded <strong>bzip2-1.0.5-bin.zip</strong> at [4]. we
are going to use this as we need the:</p>
<ul>
<li>bzlib.h (for compiling)</li>
<li>bzip2.lib (for linking)</li>
<li>bzip2.dll (for runtime)</li>
</ul>
<p>i’ve just created:</p>
<ul>
<li>c:</li>
<li>c: (where i moved all files from the
<strong>bzip2-1.0.5-bin.zip)</strong></li>
</ul>
<h2 data-number="4" id="modifying-evopedia-for-windows">modifying
evopedia for windows</h2>
<p>it’s basically about making some changes to src.pri (which is used in
evopedia.pro)</p>
<ul>
<li>INCLUDEPATH += bzip2/include</li>
<li>LIBS += <span
class="math display"><em>q</em><em>u</em><em>o</em><em>t</em><em>e</em>(</span><em>PRO_FILE_PWD</em>)/bzip2/lib/bzip2.lib</li>
</ul>
<p>afterwards the evopedia project can be opened with qtcreator (or
directly used with the qt shell and qmake). just build the software in
‘release mode’ and after the buildstep is done, copy the bzip2.dll into
the same directory as the evopedia.exe is in. now the program is ready
to be used.</p>
<p>please note that a relative LIBS (see LIBS below) path did not work
as qtcreator sometimes does out-of-source builds.</p>
<p>i had this problem:</p>
<ul>
<li>evopedia/ (project dir)</li>
<li>evopedia/debug (debug build dir)</li>
<li>evopedia-build/release (release build dir)</li>
</ul>
<p>don’t ask me why qtcreator decided to build there. using a relative
LIBS path did not work, as:</p>
<ul>
<li>LIBS += bzip2/lib/bzip2.lib</li>
</ul>
<p>resulted in this linker error:</p>
<pre><code>g++ -enable-stdcall-fixup -Wl,-enable-auto-import -Wl,-enable-runtime-pseudo-reloc -Wl,-s -mthreads -Wl -Wl,-subsystem,windows -o release\evopedia.exe object_script.evopedia.Release  -L&quot;c:\Qt\2010.05\qt\lib&quot; -lmingw32 -lqtmain bzip2/lib/bzip2.lib -lQtGui4 -lQtNetwork4 -lQtCore4
mingw32-make[1]: Leaving directory `C:/evopedia-build-desktop&#39;
**g++: bzip2/lib/bzip2.lib: No such file or directory**
mingw32-make[1]: *** [release\evopedia.exe] Error 1
mingw32-make: Leaving directory `C:/evopedia-build-desktop&#39;
mingw32-make: *** [release] Error 2
The process &quot;C:/Qt/2010.05/mingw/bin/mingw32-make.exe&quot; exited with code %2.Error while building project evopedia (target: Desktop)When executing build step &#39;Make&#39;</code></pre>
<h2 data-number="5" id="testing-the-software">testing the software</h2>
<p>i’ve used wine ﻿1.1.34 for testing and downloading an torrent using
the evopedia dumpSettings dialog worked. also adding the archive to the
list of active archives worked (see step 7 below). but i could not open
any webpage, does wine not have a standard browser already set?</p>
<h2 data-number="6" id="upcomming">upcomming</h2>
<ul>
<li>pictures don’t work with this release, so be patient</li>
<li>i’m planning on using a cross compiler from linux to create the
windows version of evopedia, maybe also an installer.</li>
</ul>
<p>if you want to check out my windows xp build, download [5].</p>
<p>how to use the test build?</p>
<ol type="1">
<li><p>download [5]</p></li>
<li><p>use winzip or winrar to extract all files to a folder. example:
c:</p></li>
<li><p>start evopedia.exe and in the menu there is an entry called:
dumpSettings, click it</p></li>
<li><p>the dumpSettings dialog opens. it has a menu as well, click
“Refresh Archive List” to query online archives. ensure that you have a
working internet connection.</p></li>
<li><p>now the list in the dumpSettings dialog should contain a list of
several lanauges as “de,el,en,fr,it,sl,small”.</p></li>
<li><p>use small to test the evopedia application, click ‘small’ and
then ‘download’</p></li>
<li><p>if your download completet use: ‘menu’ - ‘manually add archive’
and select the directory in c:</p></li>
</ol>
<p><strong>c:is probably no good default location</strong> but we did
not change that yet. also note that crei removed the automatic usage of
‘just downloaded’ archives. this makes step 7 necessary.</p>
<h2 data-number="7" id="links">links</h2>
<ul>
<li>[1] <a href="http://qt.nokia.com/downloads"
class="uri">http://qt.nokia.com/downloads</a></li>
<li>[2] <a
href="http://msysgit.googlecode.com/files/Git-1.7.3.1-preview20101002.exe"
class="uri">http://msysgit.googlecode.com/files/Git-1.7.3.1-preview20101002.exe</a></li>
<li>[3] <a href="http://github.com/qknight/torrent"
class="uri">http://github.com/qknight/torrent</a></li>
<li>[4] <a href="http://gnuwin32.sourceforge.net/packages/bzip2.htm"
class="uri">http://gnuwin32.sourceforge.net/packages/bzip2.htm</a></li>
<li>[5] <a
href="http://www.lastlog.de/misc/wordpress/evopedia-git-windows-build.zip"
class="uri">http://www.lastlog.de/misc/wordpress/evopedia-git-windows-build.zip</a></li>
</ul>
<h2 data-number="8" id="update">update</h2>
<p>23.10.2010 pictures work in windows with this build, just select
‘allow’ in the network settings instead of ‘auto’. this is done using
the menu: menu - network - allow</p>

  </div>

</div>

<div id="ArticleSourceCode">

<a href="posts/evopedia/evopedia_is_running_on_windows_xp.mdwn" title="posts\evopedia\evopedia_is_running_on_windows_xp.mdwn">article source</a>
</div>

</div>

<div id="scrollUp">
<span id="scrollUpBtn" class="glyphiconLink glyphicon glyphicon-chevron-up" aria-hidden="true" title="scroll up"></span>
</div>

<script>
$("#scrollUpBtn").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
  return false;
});
</script>


<script>
window.onload = function(e){
  anchors.add('h1')
  anchors.add('h2')
  anchors.add('h3')
  anchors.add('h4')
  anchors.add('h5')
}
</script>




<script>
$(document).ready(function() {
  //Calls the tocify method on your HTML div.
  $("#toc").tocify();
});
$("#toc").hover(function() {
  $("#toc").css("z-index", "111")
}, function() {
  $("#toc").css("z-index", "1")
});
</script>



<script>

var shifted = false;

$(window).keyup(function(event) {
    shifted = event.shiftKey;
});

$(window).keydown(function(event) {
  if(event.keyCode == 16){
    shifted = event.shiftKey;
  }
  if (shifted == false) {
      if(event.keyCode == 37){
        $('.glyphicon-chevron-left')[0].click()
      }
      if(event.keyCode == 39){
        $('.glyphicon-chevron-right')[0].click()
      }
  }
});
</script>


<script>
// check if we got served from pankat-server
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
if (xhr.readyState == XMLHttpRequest.DONE) {
  if (xhr.status == 200) {
    console.log("request to /pankat-server returned status: " + xhr.status + ", so yes we got served from pankat-server");
    $('#draft').css("display", "block");
    $('#roadmap').css("display", "block");
  }
}
}
xhr.open('GET', "/pankat-server", false);
xhr.send(null);
</script>
</body>
</html>
